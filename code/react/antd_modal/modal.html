<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>modal</title>
  <link rel="stylesheet" href="./modal.css">
</head>

<body>
  <!-- 测试 -->
  
  <button id="btn1">按钮1</button>
  <button id="btn2">按钮2</button>
  <!-- <div class="dpn-dialog">
    <div class="dpn-title">
      系统温馨提示
      <i class="dpn-close">x</i>
    </div>
    <div class="dpn-content"></div>
    <div class="dpn-handle">
      <button>确定</button>
      <button>取消</button>
    </div>
  </div>
  <div class="dpn-model"></div> -->

  <script src="./modal.js"></script>
  <script>

    function fn1(){console.log(1)}
    function fn2(){console.log(2)}
    function fn3(){console.log(3)}

let modal1 = ModalPlugin({
  template:`<a href="#">哈哈哈</a>`,
  buttons:[{
    text:'逗你玩',
    click(){
      console.log('点击逗你玩的')
      this.close()
    }
  }]

})

// 通过事件池的方式添加方法// 发布订阅的优势所在
modal1.on('close',fn1)
modal1.on('close',fn2)
modal1.on('close',fn3)

// let btn1 = document.querySelector('#btn1')
btn1.onClick = function(){
  modal1.open()
}


  </script>
</body>

</html>